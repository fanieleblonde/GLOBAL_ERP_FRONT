<!-- BEGIN: Content-->
<br><br><br>
<div class="content-header row">
  <div class="content-header-left col-md-8 col-12 mb-2">
    <div class="row breadcrumbs-top">
      <div class="col-12">
        <h3 class="content-header-title float-start mb-0">{{ "Student Registration" | translate}}</h3>
        <div class="breadcrumb-wrapper">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html" i18n>{{ "school" | translate}}</a>
            </li>
            <li class="breadcrumb-item"><a href="#" i18n>{{ "setting" | translate}}</a>
            </li>
            <li class="breadcrumb-item active" i18n>{{ "Student Registration" | translate}}
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>


  <div class="text-md-end col-md-4 col-12 d-md-block d-none">
    <!-- content-header-right -->
    <!--    <div class="btn-group dropdown-sort" *ngIf="this.isButtonVisible">-->
    <!--      <button type="button" class="btn-sm  btn-outline-primary dropdown-toggle me-1" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-->
    <!--        <span class="active-sorting">Featured</span>-->
    <!--      </button>-->
    <!--      <div class="dropdown-menu">-->
    <!--        <a class="dropdown-item" (click)="">Delete</a>-->
    <!--      </div>-->
    <!--    </div>-->

    <button type="button" class="btn btn-primary waves-effect waves-float waves-light" (click)="openAddForm()">
      <i class="fas fa-plus me-25"></i>{{ "new" | translate }}
    </button>
  </div>
</div>


<div class="card">
  <h6 class="card-header" style="margin-top: -10px;">{{ "list_of_student_registration" | translate }}</h6>
  <div class="row" style="margin-top: -15px;">
    <div class="col-md-4 mb-2 ms-2">
      <div class="input-group input-group-merge">
        <span class="input-group-text" id="basic-addon-search31"><i class="ti ti-search"></i></span>
        <input
          type="text"
          class="form-control form-control-sm"
          (keyup)="applyFilter($event)"
          placeholder="Search..." #input
          aria-label="Search..."
          aria-describedby="basic-addon-search31" />
      </div>
    </div>

  </div>


  <div class="table-responsive text-nowrap example-container">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- Checkbox Column -->
      <ng-container matColumnDef="select" sticky>
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary">
          <mat-checkbox (change)="$event ? masterToggle() : null ; this.selection.hasValue() && isAllSelected() ? isButtonVisible = true  : isButtonVisible = false"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null; !selection.selected.length ? this.isButtonVisible = false : this.isButtonVisible = true"
                        [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>
<!--
        Code Column
        <ng-container matColumnDef="code">
          <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Code" | translate }} </th>
          <td mat-cell *matCellDef="let row" class="td-height"> {{ row.code }}</td>
        </ng-container> -->

        <!-- Name Column -->
     <ng-container matColumnDef="year">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Year" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.year ? row.year : '' }}</td>
    </ng-container>


    <!-- Code Column -->
    <ng-container matColumnDef="matricule">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Matricule" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.matricule: '' }}</td>
    </ng-container>


    <!-- Code Column -->
    <ng-container matColumnDef="othermatricule">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Other Matricule" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.othermatricule: '' }}</td>
    </ng-container>


    <!-- Code Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Name" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.name: ''}}</td>
    </ng-container>


    <!-- Code Column -->
    <ng-container matColumnDef="dob">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Date of Birth" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student.dob | date:'dd/MM/yyyy'  }}</td>
    </ng-container>


     <!-- Code Column -->
     <ng-container matColumnDef="pob">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Place of Birth" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.pob: '' }}</td>
    </ng-container>

     <!-- Name Column -->
     <ng-container matColumnDef="sex">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Sex" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{row.sex ? row.sex.name : '' }} </td>
    </ng-container>

     <!-- Name Column -->
     <ng-container matColumnDef="country">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Country" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{row.country ? row.country.name : '' }} </td>
    </ng-container>


     <!-- Name Column -->
     <ng-container matColumnDef="region">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Region" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.region: '' }}</td>
    </ng-container>

     <!-- Name Column -->
     <ng-container matColumnDef="religion">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Religion" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{row.religion ? row.religion.name : '' }} </td>
    </ng-container>

     <!-- Name Column -->
     <ng-container matColumnDef="studentphone">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Student Phone" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.studentphone: '' }}</td>
    </ng-container>

     <!-- Name Column -->
     <ng-container matColumnDef="studentemail">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Student Email" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.studentemail: '' }}</td>
    </ng-container>

     <!-- Name Column -->
     <ng-container matColumnDef="fathername">
      <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Father Name" | translate }} </th>
      <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.fathername: '' }}</td>
    </ng-container>

      <!-- Name Column -->
   <ng-container matColumnDef="fatherphone">
    <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Father Phone" | translate }} </th>
    <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.fatherphone: '' }}</td>
  </ng-container>

   <!-- Name Column -->
   <ng-container matColumnDef="fatheremail">
    <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Father Email" | translate }} </th>
    <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.fatheremail: '' }}</td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="fatherprofession">
    <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Father Profession" | translate }} </th>
    <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.fatherprofession: '' }}</td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="mothername">
    <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Mother Name" | translate }} </th>
    <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.mothername: '' }}</td>
  </ng-container>

    <!-- Name Column -->
 <ng-container matColumnDef="motherphone">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Mother Phone" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.motherphone: '' }}</td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="motheremail">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Mother Email" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.motheremail: '' }}</td>
 </ng-container>

<!-- Name Column -->
 <ng-container matColumnDef="motherprofession">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Mother Professionl" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.motherprofession: '' }}</td>
 </ng-container>


 <!-- Name Column -->
  <ng-container matColumnDef="guardianname">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Guardian Name" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.guardianname: '' }}</td>
 </ng-container>

  <!-- Name Column -->
 <ng-container matColumnDef="guardianphone">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Guardian Phone" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.guardianphone: '' }}</td>
 </ng-container>

 <!-- Name Column -->
  <ng-container matColumnDef="guardianemail">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Guardian Email" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.guardianemail: '' }}</td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="guardianprofession">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Guardian Profession" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.student ? row.student.guardianprofession: '' }}</td>
 </ng-container>



 <!-- ****************************** Admission ********************************** -->

 <!-- Name Column -->
 <ng-container matColumnDef="diploma">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Diploma" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.diploma ? row.diploma.name: '' }} </td>
 </ng-container>


 <!-- Name Column -->
 <ng-container matColumnDef="speciality">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Speciality" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.speciality }}</td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="center">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Center" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.center }}</td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="pvdiplome">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "pv diplome" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.pvdiplome }}</td>
 </ng-container>


 <!-- Name Column -->
 <ng-container matColumnDef="pvselection">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Pv Selection" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.pvselection }}</td>
 </ng-container>


 <!-- Name Column -->
 <ng-container matColumnDef="average">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Average" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.average }}</td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="ranks">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Rank" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{ row.ranks }}</td>
 </ng-container>


 <!-- ****************************** Regitration ********************************** -->

 <!-- Name Column -->
 <ng-container matColumnDef="school">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "School" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.school ? row.school.name: '' }} </td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="classe">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Classe" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.classe ? row.classe.code: '' }} </td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="regime">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Regime" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.regime ? row.regime.regime: '' }} </td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="options">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Option" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.options ? row.options.name: '' }} </td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="registrationdate">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Registration date" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.registrationdate | date:'dd/MM/yyyy'}} </td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="repeating">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Repeating" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.repeating }} </td>
 </ng-container>

 <!-- Name Column -->
 <ng-container matColumnDef="elementsprovided">
  <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "Elements Provided" | translate }} </th>
  <td mat-cell *matCellDef="let row" class="td-height"> {{row.elementsprovided}} </td>
 </ng-container>

        <!-- Actions Column -->
      <ng-container matColumnDef="actions" stickyEnd>
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "actions" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height">
          <i class="text-primary fas fa-edit me-2" matTooltip="Edit" (click)="openEditForm(row)" style="font-size: 18px; padding-top: 10px; padding-bottom: 10px; cursor: pointer"></i>
          <i class="text-danger fas fa-trash" matTooltip="Delete" (click)="delete(row.id)" style="font-size: 18px; padding-top: 10px; padding-bottom: 10px; cursor: pointer"></i>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="mat-row"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>

    <mat-card-content *ngIf="isLoading" style="display: flex; padding: 20px 0; justify-content: center; align-items: center">

      <div class="spinner-border" style="width: 3rem; height: 3rem" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>

    </mat-card-content>
  </div>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons aria-label="Select page of users" class="mat-mdc-text-field-wrapper"></mat-paginator>
</div>



