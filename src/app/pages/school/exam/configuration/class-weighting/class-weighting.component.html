<!-- BEGIN: Content-->
<br><br><br>
<div class="content-header row">
  <div class="content-header-left col-md-8 col-12 mb-2">
    <div class="row breadcrumbs-top">
      <div class="col-12">
        <h3 class="content-header-title float-start mb-0">{{ "class_weighting" | translate}}</h3>
        <div class="breadcrumb-wrapper">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html" i18n>{{ "school" | translate}}</a>
            </li>
            <li class="breadcrumb-item"><a href="#" i18n>{{ "setting" | translate}}</a>
            </li>
            <li class="breadcrumb-item active" i18n>{{ "class_weighting" | translate}}
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>


  <div class="text-md-end col-md-4 col-12 d-md-block d-none">
    <!-- content-header-right -->
    <!--    <div class="btn-group dropdown-sort" *ngIf="this.isButtonVisible">-->
    <!--      <button type="button" class="btn-sm  btn-outline-primary dropdown-toggle me-1" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-->
    <!--        <span class="active-sorting">Featured</span>-->
    <!--      </button>-->
    <!--      <div class="dropdown-menu">-->
    <!--        <a class="dropdown-item" (click)="">Delete</a>-->
    <!--      </div>-->
    <!--    </div>-->

    <button type="button" class="btn btn-primary waves-effect waves-float waves-light" (click)="openAddForm()">
      <i class="fas fa-plus me-25"></i> {{ "new" | translate }}
    </button>
  </div>
</div>


<div class="card">
  <h6 class="card-header" style="margin-top: -10px;">{{ "list_of_class_weighting" | translate }}</h6>
  <div class="row" style="margin-top: -15px;">
    <div class="col-md-4 mb-2 ms-2">
      <div class="input-group input-group-merge">
        <span class="input-group-text" id="basic-addon-search31"><i class="ti ti-search"></i></span>
        <input
          type="text"
          class="form-control form-control-sm"
          (keyup)="applyFilter($event)"
          placeholder="Search..." #input
          aria-label="Search..."
          aria-describedby="basic-addon-search31" />
      </div>
    </div>
    <div class="col-md-6">
      User Current school year : {{ currentUserSchoolYearValue }}
    </div>

  </div>


  <div class="table-responsive text-nowrap example-container">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- Checkbox Column -->
      <ng-container matColumnDef="select" sticky>
        <th mat-header-cell *matHeaderCellDef class="bg-secondary">
          <mat-checkbox (change)="$event ? masterToggle() : null ; this.selection.hasValue() && isAllSelected() ? isButtonVisible = true  : isButtonVisible = false"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null; !selection.selected.length ? this.isButtonVisible = false : this.isButtonVisible = true"
                        [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>

      <!-- school Column -->
      <ng-container matColumnDef="school">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "school" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.school ? row.school.name: '' }}</td>
      </ng-container>
      <!-- schoolClass Column -->
      <ng-container matColumnDef="schoolClass">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "school_class" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.schoolClass ? row.schoolClass.code: ''  }}</td>
      </ng-container>
      <!-- periodType Column -->
      <ng-container matColumnDef="periodType">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "periodType" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.periodType ? row.periodType.name: ''  }}</td>
      </ng-container>
      <!-- year Column -->
      <ng-container matColumnDef="year">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "year" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.year ? row.year.year: ''  }}</td>
      </ng-container>

      <!-- p1cc Column -->
      <ng-container matColumnDef="p1cc">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p1cc" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.p1cc }}</td>
      </ng-container>
      <!-- p1ex Column -->
      <ng-container matColumnDef="p1ex">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p1ex" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.p1ex }}</td>
      </ng-container>
      <!-- p1rt Column -->
      <ng-container matColumnDef="p1rt">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p1rt" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.p1rt }}</td>
      </ng-container>
      <!-- p2cc Column -->
      <ng-container matColumnDef="p2cc">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p2cc" | translate }} </th>
        <td mat-cell *matCellDef="let row"> {{row.p2cc }} </td>
      </ng-container>

      <!-- p2ex Column -->
      <ng-container matColumnDef="p2ex">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"r> {{ "p2ex" | translate }} </th>
        <td mat-cell *matCellDef="let row"> {{row.p2ex}} </td>
      </ng-container>

      <!-- p2rt Column -->
      <ng-container matColumnDef="p2rt">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p2rt" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.p2rt }}</td>
      </ng-container>
      <!-- p3cc Column -->
      <ng-container matColumnDef="p3cc">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p3cc" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.p3cc }}</td>
      </ng-container>
      <!-- p3ex Column -->
      <ng-container matColumnDef="p3ex">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p3ex" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height"> {{ row.p3ex }}</td>
      </ng-container>
      <!-- p3rt Column -->
      <ng-container matColumnDef="p3rt">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "p3rt" | translate }} </th>
        <td mat-cell *matCellDef="let row"> {{row.p3rt }} </td>
      </ng-container>

      <!-- generalEliminateAverage Column -->
      <ng-container matColumnDef="generalEliminateAverage">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"r> {{ "general_eliminate_average" | translate }} </th>
        <td mat-cell *matCellDef="let row"> {{row.generalEliminateAverage}} </td>
      </ng-container>

      <!-- eliminateMark Column -->
      <ng-container matColumnDef="eliminateMark">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"r> {{ "eliminate_mark" | translate }} </th>
        <td mat-cell *matCellDef="let row"> {{row.eliminateMark}} </td>
      </ng-container>

      <!-- validationMark Column -->
      <ng-container matColumnDef="validationMark">
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"r> {{ "validation_mark" | translate }} </th>
        <td mat-cell *matCellDef="let row"> {{row.validationMark}} </td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions" stickyEnd>
        <th mat-header-cell *matHeaderCellDef class="mat-cell bg-secondary"> {{ "actions" | translate }} </th>
        <td mat-cell *matCellDef="let row" class="td-height">
          <i class="text-primary fas fa-edit me-2" matTooltip="Edit" (click)="openEditForm(row)" style="font-size: 18px; padding-top: 10px; padding-bottom: 10px; cursor: pointer"></i>
          <!--          <i class="text-danger fas fa-trash" matTooltip="Delete" (click)="delete(row.id)" style="font-size: 18px; padding-top: 10px; padding-bottom: 10px; cursor: pointer"></i>-->
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="mat-row"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>

    <mat-card-content *ngIf="isLoading" style="display: flex; padding: 20px 0; justify-content: center; align-items: center">

      <div class="spinner-border" style="width: 3rem; height: 3rem" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>

    </mat-card-content>
  </div>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons aria-label="Select page of users" class="mat-mdc-text-field-wrapper"></mat-paginator>
</div>
